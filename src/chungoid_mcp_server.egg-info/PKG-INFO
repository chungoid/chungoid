Metadata-Version: 2.4
Name: chungoid-mcp-server
Version: 0.2.0
Summary: Meta-Cognitive Process server for Chungoid Bootstrapper
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: License :: OSI Approved :: GNU Affero General Public License v3 or later
Classifier: Operating System :: OS Independent
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Build Tools
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: annotated-types==0.7.0
Requires-Dist: anyio==4.9.0
Requires-Dist: asgiref==3.8.1
Requires-Dist: attrs==25.3.0
Requires-Dist: babel==2.17.0
Requires-Dist: backoff==2.2.1
Requires-Dist: bcrypt==4.3.0
Requires-Dist: beautifulsoup4==4.13.4
Requires-Dist: cachetools==5.5.2
Requires-Dist: certifi==2025.4.26
Requires-Dist: charset-normalizer==3.4.2
Requires-Dist: chroma-hnswlib==0.7.6
Requires-Dist: chromadb==1.0.7
Requires-Dist: click==8.1.8
Requires-Dist: coloredlogs==15.0.1
Requires-Dist: Deprecated==1.2.18
Requires-Dist: dill==0.4.0
Requires-Dist: distro==1.9.0
Requires-Dist: docutils==0.21.2
Requires-Dist: durationpy==0.9
Requires-Dist: exceptiongroup==1.2.2
Requires-Dist: fastapi==0.115.9
Requires-Dist: fastmcp==2.2.6
Requires-Dist: filelock==3.18.0
Requires-Dist: flatbuffers==25.2.10
Requires-Dist: fsspec==2025.3.2
Requires-Dist: google-auth==2.39.0
Requires-Dist: googleapis-common-protos==1.70.0
Requires-Dist: grpcio==1.71.0
Requires-Dist: h11==0.16.0
Requires-Dist: httpcore==1.0.9
Requires-Dist: httptools==0.6.4
Requires-Dist: httpx==0.28.1
Requires-Dist: httpx-sse==0.4.0
Requires-Dist: huggingface-hub==0.30.2
Requires-Dist: humanfriendly==10.0
Requires-Dist: idna==3.10
Requires-Dist: imagesize==1.4.1
Requires-Dist: importlib_metadata==8.6.1
Requires-Dist: importlib_resources==6.5.2
Requires-Dist: Jinja2==3.1.6
Requires-Dist: jsonschema==4.23.0
Requires-Dist: jsonschema-specifications==2025.4.1
Requires-Dist: kubernetes==32.0.1
Requires-Dist: markdown-it-py==3.0.0
Requires-Dist: MarkupSafe==3.0.2
Requires-Dist: mcp==1.7.0
Requires-Dist: mdurl==0.1.2
Requires-Dist: mmh3==5.1.0
Requires-Dist: mpmath==1.3.0
Requires-Dist: numpy==2.2.5
Requires-Dist: oauthlib==3.2.2
Requires-Dist: onnxruntime==1.21.1
Requires-Dist: openapi-pydantic==0.5.1
Requires-Dist: opentelemetry-api==1.32.1
Requires-Dist: opentelemetry-exporter-otlp-proto-common==1.32.1
Requires-Dist: opentelemetry-exporter-otlp-proto-grpc==1.32.1
Requires-Dist: opentelemetry-instrumentation==0.53b1
Requires-Dist: opentelemetry-instrumentation-asgi==0.53b1
Requires-Dist: opentelemetry-instrumentation-fastapi==0.53b1
Requires-Dist: opentelemetry-proto==1.32.1
Requires-Dist: opentelemetry-sdk==1.32.1
Requires-Dist: opentelemetry-semantic-conventions==0.53b1
Requires-Dist: opentelemetry-util-http==0.53b1
Requires-Dist: orjson==3.10.18
Requires-Dist: overrides==7.7.0
Requires-Dist: packaging==25.0
Requires-Dist: pbr==6.1.1
Requires-Dist: pluggy==1.5.0
Requires-Dist: posthog==4.0.1
Requires-Dist: protobuf==5.29.4
Requires-Dist: pyasn1==0.6.1
Requires-Dist: pyasn1_modules==0.4.2
Requires-Dist: pydantic==2.11.4
Requires-Dist: pydantic-settings==2.9.1
Requires-Dist: pydantic_core==2.33.2
Requires-Dist: Pygments==2.19.1
Requires-Dist: PyPika==0.48.9
Requires-Dist: python-dateutil==2.9.0.post0
Requires-Dist: python-dotenv==1.1.0
Requires-Dist: python-multipart==0.0.20
Requires-Dist: PyYAML==6.0.2
Requires-Dist: referencing==0.36.2
Requires-Dist: requests==2.32.3
Requires-Dist: requests-oauthlib==2.0.0
Requires-Dist: rich==14.0.0
Requires-Dist: roman-numerals-py==3.1.0
Requires-Dist: rpds-py==0.24.0
Requires-Dist: rsa==4.9.1
Requires-Dist: setuptools==80.1.0
Requires-Dist: shellingham==1.5.4
Requires-Dist: six==1.17.0
Requires-Dist: sniffio==1.3.1
Requires-Dist: snowballstemmer==2.2.0
Requires-Dist: soupsieve==2.7
Requires-Dist: sse-starlette==2.3.3
Requires-Dist: starlette==0.45.3
Requires-Dist: stevedore==5.4.1
Requires-Dist: sympy==1.14.0
Requires-Dist: tenacity==9.1.2
Requires-Dist: tokenizers==0.21.1
Requires-Dist: tqdm==4.67.1
Requires-Dist: typer==0.15.3
Requires-Dist: typing-inspection==0.4.0
Requires-Dist: typing_extensions==4.13.2
Requires-Dist: urllib3==2.4.0
Requires-Dist: uvicorn==0.34.2
Requires-Dist: uvloop==0.21.0
Requires-Dist: watchfiles==1.0.5
Requires-Dist: websocket-client==1.8.0
Requires-Dist: websockets==15.0.1
Requires-Dist: wrapt==1.17.2
Requires-Dist: zipp==3.21.0
Provides-Extra: dev
Requires-Dist: pytest<8.4,>=8.3; extra == "dev"
Requires-Dist: pytest-asyncio; extra == "dev"
Requires-Dist: pytest-cov; extra == "dev"
Requires-Dist: ruff==0.11.8; extra == "dev"
Requires-Dist: bandit==1.8.3; extra == "dev"
Requires-Dist: mypy; extra == "dev"
Requires-Dist: types-PyYAML; extra == "dev"
Requires-Dist: types-filelock; extra == "dev"
Requires-Dist: types-requests; extra == "dev"
Requires-Dist: build==1.2.2.post1; extra == "dev"
Provides-Extra: docs
Requires-Dist: Sphinx==8.2.3; extra == "docs"
Requires-Dist: sphinx-rtd-theme==3.0.2; extra == "docs"
Requires-Dist: alabaster==1.0.0; extra == "docs"
Requires-Dist: Babel==2.17.0; extra == "docs"
Requires-Dist: imagesize==1.4.1; extra == "docs"
Requires-Dist: snowballstemmer==2.2.0; extra == "docs"
Requires-Dist: sphinxcontrib-applehelp==2.0.0; extra == "docs"
Requires-Dist: sphinxcontrib-devhelp==2.0.0; extra == "docs"
Requires-Dist: sphinxcontrib-htmlhelp==2.1.0; extra == "docs"
Requires-Dist: sphinxcontrib-jquery==4.1; extra == "docs"
Requires-Dist: sphinxcontrib-jsmath==1.0.1; extra == "docs"
Requires-Dist: sphinxcontrib-qthelp==2.0.0; extra == "docs"
Requires-Dist: sphinxcontrib-serializinghtml==2.0.0; extra == "docs"
Dynamic: license-file

# Chungoid — Model-Context-Protocol (MCP) Server

<!--[BADGES]-->
<!-- CI badge: replace <owner>/<repo> with your GitHub slug if the fork is elsewhere -->
[![Tests](https://github.com/chungoid/chungoid/actions/workflows/test.yml/badge.svg?branch=master)](https://github.com/chungoid/chungoid/actions/workflows/test.yml)
![Coverage](https://img.shields.io/badge/coverage-80%25%2B-brightgreen)
![pre-commit](https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit)

> The **Chungoid MCP server** orchestrates an AI-driven, stage-based workflow that turns an idea into a production-ready codebase.  This README tells you *exactly* how to get a project bootstrapped and running in minutes.

---

## TL;DR — Bootstrap a New Project with Chungoid

```bash
# 0.  Install dependencies in a fresh venv *and* add Chungoid-core to PYTHONPATH
python3 -m venv .venv
source .venv/bin/activate
# Editable install puts the `chungoid` package on your path *and* installs requirements
pip install -e .               # from repo root

# 1. Create a new empty work environment

# 2. Connect to Chungoid MCP server (see CLI *or* IDE instructions below)

# 3.  In your chat client / CLI, initialise a directory & begin:
@chungoid set_project_context
@chungoid initialize_project

# 4. Chat with Chungoid to refine the goal, then follow its guided stage workflow.
```

*That's it.*  Your working directory now holds a `.chungoid/` folder with `project_status.json`, and Stage 0 is ready to walk you through discovery and design.

---

## What it Does

The server manages a multi-stage process where an AI agent (like you!) interacts via defined tools to perform tasks like design, planning, implementation, validation, and release preparation for a target software project.

## Getting Started: Initializing a Project

*   Set your mcp.json configuration if you're using an IDE like cursor and change `args` to point towards your launch_server.sh so your client can start the server. Everything else remains as is, `CHROMA_CLIENT_TYPE` can be configured to handle http if desired.

```
    "chungoid": {
      "transportType": "stdio",
      "command": "/bin/bash",
      "args": [
        "/path/to/your/chungoid/launch_server.sh"
      ],
      "env": {
        "CHUNGOID_PROJECT_DIR": "${workspaceFolder}",
        "CHROMA_CLIENT_TYPE": "persistent"
      }
    }
```

To begin a new project managed by Chungoid:

1.  **Navigate:** Open your terminal *in the directory* where you want your new project to reside.
2.  **Initialize:** Use the Chungoid client (e.g., Cursor chat) connected to this server and run the initialization:
    ```
    @chungoid initialize_project
    ```
    *   This creates a `.chungoid/` directory containing essential state files (`project_status.json`).
    *   It also automatically sets the project context for your current session.
    *   Follow your agents instructions and interact to clarify a well refined project goal & advance through the stages.

## The Workflow: Stage –1 → Stage 5 *(optional Stage&nbsp;6)*

Chungoid uses a sequential, stage-based workflow. Each stage focuses on a specific part of development and has defined goals and expected outputs (artifacts).

0.  **Stage –1: Goal Draft & Scope Clarification:** Elicit a clear, bounded project goal, confirm KPIs, and brainstorm candidate libraries.  Output: `goal_draft.md` (+ optional `goal_questions.json`).
1.  **Stage 0: Discovery & Design:** Understand the refined goal, research, create `requirements.md` and `blueprint.md`.
2.  **Stage 1: Design Validation:** Review Stage 0 artifacts, ensure feasibility/clarity, produce `validation_report.json`.
3.  **Stage 2: Implementation Planning:** Create `implementation_plan.md` and `detailed_interfaces.md` based on the validated design.
4.  **Stage 3: Implementation & Unit Testing:** Write code incrementally according to the plan, add unit tests, run static analysis. Produce code artifacts and reports (`static_analysis_report.json`, `unit_test_report.json`).
5.  **Stage 4: Validation & QA:** Perform integration testing, security checks, etc., on the implemented code. Produce reports (`integration_report.json`, etc.).
6.  **Stage 5: Release Preparation:** Finalize `README.md`, `docs/`, packaging files, and `release_notes.md`.
7.  **Stage 6 (Post-Release Retrospective, *optional*):** Run additional CI tests, gather metrics, and document lessons learned in `retrospective.md`.  Helps feed improvements back into Stage –1 for the next project cycle.

## Interaction: Using the Tools

You interact with the server using specific tools via your client (e.g., `@chungoid tool_name ...`). Key tools include:

*   **`initialize_project`**: (Human driven) As shown above, Sets up a new project directory.
*   **`set_project_context`**: (Human Driven)Tells the server which project directory subsequent commands should apply to for your session. Useful if managing multiple projects or if context is lost.
*   **`get_project_status`**: (Human Driven) Retrieves the current status, including completed stages and runs.
*   **`load_reflections`**: (Self/Agent/Engine Driven) Loads reflections/notes stored from previous stages.
*   **`retrieve_reflections`**:(Self/Agent/Engine Driven) Searches stored reflections for specific information.
*   **`prepare_next_stage`**: (Self/Agent/Engine Driven) Determines the next stage based on the project status and provides you with the prompt (role, goals, tasks) for that stage.
*   **`get_file relative_path`**: (Self/Agent/Engine Driven) Reads the content of a file within the *currently set project context*.
*   **`set_pending_reflection`**: (Self/Agent/Engine Driven) *Required before submitting.* Stages your reflection text temporarily.
*   **`submit_stage_artifacts`**: (Self/Agent/Engine Driven) Submits the results of a stage. This updates the project status and stores artifact/reflection context. *Note: The `reflection_text` is picked up automatically from the previous `set_pending_reflection` call.*

**Typical Flow:**

1.  Write a brief summary of the goal you wish to acheive with your software project in goal.txt
2.  Send agent request to `set_project_context` or `initialize_project`
3.  Send agent request to `prepare_next_stage`
4.  Refine your goal.txt by discussing with the agent how to optimize it for success.
5.  Send agent request to `execute_next_stage`
6.  Follow the stages workflow and let the agent guide you through the phases & use its chungoid tools to 
store state artifacts, research artifacts, documentation artifacts, etc. 
7.  Use `get_project_status` at any point in time to reflect on current state and next steps if you need guidance.
8. Use `set_pending_reflections` `load_reflections` and `store_reflections` to store context in the projects `.chungoid/chroma_db` subdirectory.

## Key Concepts

*   **Project Status (`.chungoid/project_status.json`):** Tracks the history of stage runs and their outcomes (PASS/FAIL).
*   **Artifacts:** Files generated or modified during a stage (code, documents, reports).
*   **Reflections:** Your thoughts, analysis, or rationale recorded during a stage, stored for context.
*   **Context:** Information (status, artifacts, reflections) gathered and potentially passed into stage prompts.

## Compute Stacking — Optional Chungoid Power-Ups

> *Everything below is optional.*  Chungoid-core runs out-of-the-box with plain files on disk.  But if you enable these extra components the agent can "stack" new kinds of computation and context, giving it **exponential leverage** during the stage workflow.

| Add-on | What it brings | Install | Docs / Repo |
|--------|---------------|---------|-------------|
| **ChromaDB** | Embedded or HTTP vector store for long-term reflections, planning docs, and fetched library docs.  Enables fast semantic search so later stages recall past decisions instead of repeating analysis. | Built-in (install via `pip install chromadb` — already in requirements.txt) | https://docs.trychroma.com |
| **MCP Sequential Thinking** | Tool that forces the agent to reason step-by-step, self-critique, and verify outputs before showing them to you.  Early stages (-1, 0, 1) use it to spot gaps; later stages (2-5) use it for code/test validation. | `instructions at ->` | https://github.com/modelcontextprotocol/servers/ |
| **Context7 Library Docs** | On-demand retrieval of third-party API documentation (`resolve-library-id` → `get-library-docs`).  Reduces hallucinations and saves you from hunting docs manually. | `instructions at ->` | https://github.com/upstash/context7 |

> These packages are **maintained by their own teams**.  Chungoid merely detects and uses them if they're present; see each repository for license and security details.

Chungoid calls this synergy **compute stacking**: each layer (vector memory, disciplined reasoning, live docs) augments the next, letting the agent solve harder problems with fewer tokens and less user micro-management. Enable as many layers as your environment allows; the workflow adapts automatically.

---

## Development

This project structure contains the server implementation. Development *of* the server (meta-development) occurs in the parent `chungoid-mcp` (currently private) repository structure. This is autonomously built from within an abstraction layer which uses a modified version of the chungoid workflow, and soon.. A2A protocol.

## Origin Story

In the early days, ambitious AI projects were often chaotic. Developers faced a swirling vortex of high-level goals, vague requirements, shifting dependencies, and endless potential paths. Progress stalled in "analysis paralysis," the sheer complexity overwhelming any attempt at structured development. They needed a new paradigm.

The breakthrough came from a simple observation: even the most complex system could be broken down. Like eating an elephant one bite at a time, the team realized they needed to isolate manageable "chunks" of the problem – a specific feature, a single module, a defined stage of development. This wasn't just task breakdown; it was about creating self-contained units of work with clear inputs and outputs.

Just chunking wasn't enough. They needed a *process* to handle each chunk consistently: define it (Stage 0), validate it (Stage 1), plan its implementation (Stage 2), build and test it (Stage 3), validate the build (Stage 4), and prepare it for integration (Stage 5). Crucially, the system needed to *learn* from each chunk – reflections stored in a persistent memory (like ChromaDB) to inform the next. This meta-cognitive loop was vital.

They weren't just creating *chunks*; they were designing a system *that operated on chunks*. This system had its own lifecycle, its own internal state, its own memory, and distinct operational phases (the stages). It felt less like a static plan and more like an autonomous entity designed specifically to *process* these chunks. The suffix "-oid" came to mind – signifying something "like" or "resembling" a self-contained, purposeful entity. It wasn't just *a* chunk; it was the **Chunk-Processor**, the **Chunk-Handler**, the **Chunk-oid**.

During a late-night whiteboard session, mapping out the flow between stages, agents, and the reflection database, someone drew a box around the entire process – the State Manager, the Prompt Manager, the Stage Executor, the Memory. "This whole thing," they declared, gesturing at the diagram, "it's the... the *Chungoid*. It takes the big messy goal, breaks it into chunks, digests each one through the stages, learns, and moves on."

The name stuck. "Chungoid" came to represent not just the act of chunking, but the entire **meta-cognitive, agent-driven framework** designed to systematically consume complexity through sequential, reflective stages. It embodied the structured approach, the learning capability, and the staged progression – the intelligent system that brings order to the chaos of creation.

## Logging Configuration (Environment Overrides)

Chungoid-core uses a centralised logging helper (`utils.logger_setup`) that
reads settings from **config.yaml** but **can be overridden via environment
variables** at runtime.  This is handy when you need verbose logs for
troubleshooting or JSON logs in CI without modifying repo-tracked files.

| Variable | Purpose | Example |
|----------|---------|---------|
| `CHUNGOID_LOGGING_LEVEL` | Override `logging.level` in config. Accepts standard Python levels (`DEBUG`, `INFO`, etc.). | `export CHUNGOID_LOGGING_LEVEL=DEBUG` |
| `CHUNGOID_LOGGING_FORMAT` | Set formatter: `text` (default) or `json`. | `export CHUNGOID_LOGGING_FORMAT=json` |
| `CHUNGOID_LOGGING_FILE` | Path for rotating file handler. Leave blank to disable file logging. | `export CHUNGOID_LOGGING_FILE=/tmp/chungoid.log` |
| `CHUNGOID_LOGGING_MAX_BYTES` | Max size (bytes) before rotation. | `export CHUNGOID_LOGGING_MAX_BYTES=1048576` |
| `CHUNGOID_LOGGING_BACKUP_COUNT` | How many rotated files to keep. | `export CHUNGOID_LOGGING_BACKUP_COUNT=3` |

When any of these variables are present, `utils.config_loader` injects the
value into the runtime config before `utils.logger_setup.setup_logging()` is
called. 

## Bringing the Chungoid Cursor Rule into **your** project  

Chungoid-core ships a master Cursor rule file  
`chungoid_bootstrap.mdc` (see `chungoid_core/cursor_rules/`).  
It keeps the agent behaviour consistent across every workspace.  
Below are two equally simple ways to copy the rule into a new project, depending on **how you run Chungoid**.

### If you are a *CLI-only* user  
(You launch the server from the shell and talk to it via an MCP client on the command-line.)

```bash
# One-liner from project root – copies rule into .cursor/rules/
chungoid-export-rule              # installed automatically with the package

# Want a custom location?
chungoid-export-rule ./some/other/path
```
The helper is installed as a console script when you `pip install chungoid-core`.
It will create the target directory if it doesn't exist and prints the path of the copied file.

### If you are an IDE / Cursor user  
(Your IDE starts the MCP server via `launch_server.sh`.)

Nothing to install manually:  **Stage –1** checks for the rule and auto-copies it if missing by calling the built-in tool handler:

```tool_code
print(default_api.mcp_chungoid_export_cursor_rule(dest_path=".cursor/rules"))
```

You'll see a confirmation in your chat pane:
```
✓ Copied chungoid_bootstrap.mdc → .cursor/rules/
```
If you ever delete the file, just re-run Stage –1 or call the tool handler yourself.

> **Why is this needed?**  The rule embeds Golden Principles (stage fidelity, reflection requirements, doc-flow, etc.) that keep the agent on track. Storing it inside the project means you can tweak it locally without touching the global package, while still starting from the canonical version.

--- 

## Enhancements (May 2025)

| Area | What changed | Where/Artifacts |
|------|--------------|-----------------|
| **New Micro-Stage** | Added **Stage –1: Goal Draft & Scope Clarification** with sequential-thinking prompt. | `server_prompts/stages/stage_minus1_goal_draft.yaml` |
| **Prompt Refinement** | Injected explicit `mcp_sequentialthinking_sequentialthinking` reflection contracts into **Stage 0** & **Stage 1** prompts. | `stage0.yaml`, `stage1.yaml` |
| **Library-Docs Flow** | Integrated Context7 retrieval + fallback `doc_requests.yaml` (with JSON schema + validator script). | `dev/schemas/doc_requests_schema.yaml`, `dev/scripts/validate_doc_requests.py` |
| **Cursor Rule** | Packaged `chungoid_bootstrap.mdc` + helper `chungoid-export-rule` for one-liner installation. | `.cursor/rules/`, console entry-point |
| **Tests & CI** | Added pytest cases ensuring every stage references the sequential-thinking tool and doc-request schema passes.  Updated GitHub Actions matrix for Py 3.11/3.12. | `tests/unit/`, `.github/workflows/python-tests.yml` |
| **Compute Stacking Docs** | Added "🚀 Compute Stacking — Optional Power-Ups" section (ChromaDB, MCP Sequential Thinking, Context7). | README section above |

> Use these notes to track breaking changes when upgrading Chungoid-core. 

## License

Chungoid-core is released under the **GNU Affero General Public License v3.0 or later (AGPL-3.0-or-later)**.

This strongest copyleft license ensures:

* Any distributed or network-hosted derivative must remain open-source under the same terms.
* Contributors and original authors receive credit via preserved copyright headers.

Refer to the [`LICENSE`](../LICENSE) file for the full legal text and how to apply headers in source files.

--- 
